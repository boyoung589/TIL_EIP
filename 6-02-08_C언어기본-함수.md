# 12 함수

---

1. main 함수
    1. 개념: 프로그램이 실행하는 모든 프로그램의 시작점
    2. 형태: 
        1. `void` : ‘존재하지 않음’이란 뜻으로 main 함수 안에 반환할 값이 없다는 의미
        2. `return` : 반환하고 함수를 종료한다.
2. 사용자 정의 함수
    1. 개념: 사용자가 직접 새로운 함수를 정의
    2. 사용자 함수에서 정의된 매개변수, 변수는 함수 종료시 사라진다.
        - 사용자 정의 함수 선언 예시
            
            ```c
            #include <stdio.h>
            char fn(int num){
            	if(num % 2 == 0)
            		return 'Y';
            	else
            		return 'N';
            }
            int main(){
            	char a = fn(5);
            	printf('%c\n', a);
            	return 0;
            }
            // 출력: N 
            ```
            
            1. stdio 헤더파일을 읽어옴
            2. fn 함수 선언
            3. main 함수 실행
            4. 문자형 변수 a 선언 후 fn(5) 실행값 초기값으로 초기화
            5. fn(5) 실행
            6. 5 % 2 =  1 이므로 ‘N’ 리턴
            7. a는 ‘N’으로 초기화
            8. ‘N’ 출력
    3. 매개변수 전달방법
        1. 구성요소
            
            ```c
            #include <stdio.h>
            int fn(int x, int y){ // => 매개변수: 함수를 선언하는 쪽에서 전달받는 변수의 값, 변수 주솟값
            	...
            }
            void main(){
            	int i, j;
            	fn(i,j); // => 전달인자: 실 매개변수, 함수를 호출하는 쪽에서 전달하는 변수의 값, 변수 주솟값
            }
            ```
            
        2. call by value
            1. 변수의 값을 넘겨주고, 값이 할당되어 사용하는 변식
            2. 형식 매개변수(매개변수)의 어떤 변화도 실 매개변수(전달인자:실제 함수 실행시 전달되는 값)에 아무런 영향을 미치지 않음
            
            ```c
            #include <stdio.h>
            int fn(int x, int y){ //매개변수: 형식 매개변수
            	...
            }
            void main(){
            	int i, j;
            	...
            	fn(i, j); //전달인자: 실매개변수
            }
            ```
            
            - 예시
                
                ```c
                #include <stdio.h>
                int fn(int n){ //매개변수: 형식매개변수
                	n = 7;
                	return n;
                }
                int main(){
                	int n = 5;
                	fn(n); //전달인자: 실매개변수
                	printf("%d", n);
                	return 0;
                }
                // 출력 : 5
                ```
                
                1. stdio.h 헤더 파일 읽어옴
                2. main 함수 시작
                3. 정수형 변수 n 선언 후 5로 초기화
                4. fn 함수에 매개변수 5 전달 후 실행
                5.  n에 7 대입
                6. n의 값 7을 fn 함수 호출 부분에 전달
                7. return과 함께 사용자 정의함수 fn이 종료되고, fn에서 사용된 n은 제거
                    1. return과 함께 fn(5)는 값 7만 남음
                8. printf 함수로 n == 5  출력
        3. call by reference
            1. 형식 매개변수는 `*`를이용하여 포인터 변수 선언과 동일하게 작성
            2. 실질 매개변수는 주소 연산자 `&`를 이용해 변수의 주솟값을 작성
            
            ```c
            #include <stdio.h>
            int fn(int* x, int* y){ //매개변수: 형식
            	...
            }
            void main(){
            	int i, j;
            	...
            	fn(&i, &j); //전달인자: 실
            }
            ```
            
            - 예시
                
                ```c
                #include <stdio.h>
                int fn(int* m){
                	*m = 7;
                }
                int main(){
                	int n = 5;
                	int o[3] = {1, 2, 3};
                	int i;
                	fn(&n);
                	fn(&o[1]);
                	printf("%d\n", n);
                	for(i=0; i<3; i++)
                		printf("%d", o[i]);
                	return 0;
                }
                /** 출력
                7
                173
                **/
                ```
                
                1. stdio.h 헤더파일 읽어옴
                2. main 함수 시작
                3. 정수형 변수 n선언 후 5로 초기화
                4. 3자리 정수 배열 0 선언 후 각 자리에 {1,2,3}으로 초기화
                5. 정수형 변수 i선언
                6. fn 함수에 n의 주소값을 매개변수로 전달
                7. n 주소값(main 함수의 변수 n의 값)에 7 대입
                8. fn 함수에 배열 o의 1번째 인덱스의 주소값을 매개변수로 전달
                9. o[1]의 주소의 값(o[1] 값)에 7대입
                10. n 출력 ⇒ 7
                11. for 반복문으로 o배열 출력 ⇒ 173
    4. 재귀함수
        1. 재귀함수는 함수 자신이 자신을 부르는 함수
        2. 재귀함수 선언 
            
            ```c
            int fn(매개변수){
            	...
            	fn(매개변수)
            	...
            	return 반환값
            }
            ```
            
        - 예시
            1. stdio.h 헤더파일 읽어옴
            
            ```c
            #include <stdio.h>
            int fn(int n){
            	if(n <= 1)
            		return 1;
            	else
            		return n*fn(n-1);
            }
            int main (){
            	printf("%d", f(3));
            	return 0;
            }
            // 출력 6
            ```
            
3. 표준 함수
    1. 문자열 함수
        1. concat
            1. `strcat(dest,src);`  : src의 문자열을 dest문자열 뒤에 붙임
            2. `strncat( dest, src, maxlen);` : src의 문자열에서 maxlen의 개수만큼 dest문자열 뒤에 붙임
            - 예시
                
                ```c
                #include <stdio.h>
                #include <string.h>
                int main(){
                	char a[20] = "hello";
                	char b[10] = "soojebi";
                	char c[20] - "hello";
                	strcat(a, b);
                	printf("%s %s\n", a, b);
                	strncat(c, b, 3);
                	printf("%s %s", c, b);
                	return 0;
                }
                /** 출력
                hellosoojebi soojebi
                hellosoo soojebi
                **/
                ```
                
        2. copy
            1. `strcpy(dest, src);` : src의 문자열을 dest 문자열에 복사
            2. `strncpy(dset, src, maxlen);` : src의 문자열에서 maxlen의 개수만큼 dest 문자열에 복사
            - 예시
                
                ```c
                #include <stdio.h>
                #include <string.h>
                int main(){
                	char a[20] = "hello";
                	char b[10] = "soojebi";
                	char c[20] - "hello";
                	strcpy(a, b);
                	printf("%s %s\n", a, b);
                	strncpy(c, b, 3);
                	printf("%s %s", c, b);
                	return 0;
                }
                /** 출력
                soojebi soojebi
                soolo soojebi
                **/
                ```
                
        3. compare : 문자열의 ASCII 코드를 비교하여 s1이 s2보다 크면 1, 같으면 0, 작으면 -1 반환
            1. `strcmp(s1, s2);` : s1, s2의 대소를 비교
            2. `strncmp(s1, s2, maxlen);` : maxlen 길이만큼 s1, s2 대소 비교
            - 예시
                
                ```c
                #include <stdio.h>
                #include <string.h>
                int main(){
                	char a[10] = "helloa";
                	char b[10] = "hellob";
                	int c = strcmp(a, b);
                	printf(%s\n", c);
                	c = strncmp(a, b, 3);
                	printf("%d", c);
                	return 0;
                }
                /** 출력
                -1
                0
                **/
                ```
                
        4. `strlen(s);` (string length) : s의 길이를 반환
            - 예시
                
                ```c
                #include <stdio.h>
                #include <string.h>
                int main(){
                	char a[20] = "hello";
                	int c = strlen(a);
                	printf("%d", c);
                	return 0;
                }
                // 출력 : 5
                ```
                
        5. `strrev(str);` (string reverse) : str내의 문자열을 거꾸로 뒤집음
            - 예시
                
                ```c
                #include <stdio.h>
                #include <string.h>
                int main(){
                	char a[20] = "hello";
                	strrev(a);
                	printf("%d", a);
                	return 0;
                }
                // 출력 : olleh
                ```
                
        6. `strchr(str, c);` (string find character) : str 내에 c가 존재하는지 알려줌
            - 예시
                
                ```c
                #include <stdio.h>
                #include <string.h>
                int main(){
                	char a[20] = "hello";
                	char* p = strchr(a, 'l');
                	printf("%s", p);
                	return 0;
                }
                // 출력 : llo
                ```
                
                1. strchr 함수를 사용하기 위해 string.h 헤더파일 읽어옴
                2. 첫번째 l이 나온 위치를 반환하여 p라는 포인터 변수에 저장
                3. p라는 포인터 변수가 가리키는 문자부터 NULL 전까지 값을 출력
    2. 수학 함수
        1. `sqrt(n);` 
            - 예시
                
                ```c
                #include <stdio.h>
                #include <math.h>
                int main(){
                	double a;
                	a = sqrt(5.1);
                	printf("%.2f", a);
                	return 0;
                }
                // 출력: 2.26
                ```
                
        2. `ceil(n);` 
            - 예시
                
                ```c
                #include <stdio.h>
                #include <math.h>
                int main(){
                	double a = 1.1;
                	printf("%.2f", ceil(a));
                	return 0;
                }
                // 출력 : 2.00
                ```
                
        3. `floor(n);`
            - 예시
                
                ```c
                #include <stdio.h>
                #include <math.h>
                int main(){
                	double a = 1.1;
                	printf("%.2f", floor(a));
                	return 0;
                }
                // 출력 : 1.00
                ```
                
    3. 유틸리티 함수
        1. `rand();` : 0~32767 중 랜덤으로 정수값 1개 생성
        2. `srand(seed)` : (seed random) : seed 값을 정해주는 함수. srand 사용 후 rand 사용시 랜덤수를 srand의 매개변수로 들어오는 값(seed)에 해당하는 난수패턴으로 생성
            1. seed: 난수 알고리즘 실행시 쓰이는 수
            2. 난수: 정의된 범위 내에서 무작위로 추출된 수
            3. seed 값이 같으면 프로그램 실행시마다 똑같은 패턴의 랜덤 수를 생성함
            4. 실행시마다 다른 값을 생성하기 위해 seed에 time 함수 사용
        3. `time(NULL);` : time 함수에 파라미터를 NULL로 하면 현재 시간 리턴
            1. 현재시간을 가져오는 함수
            - 예시
                
                ```c
                #include <stdio.h>
                #include <stdlib.h>
                #include <time.h>
                int main(){
                	int a;
                	int i;
                	srand(time(NULL));
                	for(i=0; i<6; i++){
                		a = rand()%45+1;
                		printf("%d ", a);
                	}
                }
                // 출력 : 임의 값 6개
                ```
                
        4. `atoi(str);` : (ASCII to integer) 문자열을 정수형으로 변환
            - 예시
                
                ```c
                #include <stdio.h>
                #include <stdlib.h>
                int main(){
                	char *a = "1";
                	int num = atoi(a);
                	printf("%d", num);
                	return 0;
                }
                // 출력 : 1
                ```
                
        5. `atof(str);` : (ASCII to floating point) 문자열을 실수형으로 변환
            - 예시
                
                ```c
                #include <stdio.h>
                #include <stdlib.h>
                int main(){
                	char *str_num = "1.0";
                	double num = atof(str_num);
                	printf("%.2f", num);
                	return 0;
                }
                // 출력 : 1.00
                ```
                
        6. `itoa(value, str, radix)` : (integer to ASCII) 정수형을 문자열호 변환
            1. value를 변환하여 str에 radix 진수로 저장
            - 예시
                
                ```c
                #include <stdio.h>
                #inxlude <stdlib.h>
                int main(){
                	char buffer[4] = {NULL};
                	int num = 123;
                	itoa(num, buffer, 10);
                	printf("%s", buffer);
                	return 0;
                }
                // 출력 : 123
                ```
                
                1. itoa 함수를 사용하기 위해 stdlib.h 헤더파일을 읽어옴
                2. itoa 함수에 의해 변환된 값을 저장할 문자형 배열 생성 → buffer
                    1. 배열 요소 개수보다 적은 개수만큼 초기화할 경우 초깃값이 명시되지 않은 값들은 문자형일 경우 NULL로 초기화
                3. 123을 num이란 정수 변수에 저장
                4. num 값인 123을 10진수 형태로 buffer라는 변수에 문자열로 저장 → “123”
                5. buffer에 저장된 문자열 출력
