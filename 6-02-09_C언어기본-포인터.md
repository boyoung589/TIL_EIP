# 13 포인터

---

```c
int a = 10;
int* b = &a;
```

1. r개념: 변수의 주솟값을 저장하는 공간
2. 사용
    1. 자료형 뒤에  *를 붙이면 주소를 저장하는 포인터 변수라는 의미
    2. 일반 변수명에 &를 붙이면 해당 변수명의 주솟값
    3. *와 &는 반대개념이므로 *(&)로 같이 사용시 상쇄됨
    
    ```c
    #include <stdio.h>
    int main(){
    	int a = 10;
    	int* b = &a;
    	printf("%d %d %d", a, *b, *(&a));
    	return 0;
    }
    // 출력 : 10 10 10
    ```
    
    1. 정수형 변수 a 선언 후 10으로 초기화
    2. b라는 포인터 변수에 a의 주솟값을 저장
    3. a는 10이 저장되어 있으므로 10 출력
    4. *b는 b라는 포인터 변수가 저장하고 있는 주소에 있는 값을 출력하라는 의미이므로, a의 주솟값에 저장된 값인 a를 출력
        1. b가 가리키는(*) 값은 a이므로 *b와 a는 값이 같음
    5. *(&)를 사용시 상쇄됨으로 a의 값 출력
3. 배열과 포인터
    - 배열의 i번지 주소와 i번지 값
        
        ```c
        int s[3];
        /**
              s[0] s[1] s[2]
        주소값   s   s+1  s+2
        **/
        ```
        
        | 배열의 i번째 주소 | 배열+i == &배열[i] |
        | --- | --- |
        | 배열의 i번째 값 | *(배열+i) == 배열[i] |
    1. 1차원 배열과 1차원 포인터
        1. 1차원 배열에서 배열명만 단독으로 사용할 경우 1차원 포인터와 동일
        2. 1차원 배열일 때: `배열명[ 인덱스 ]` / `*( 배열명 + 인덱스 )`
        3. 1차원 포인터일 때: `포인터[ 인덱스 ]` / `*( 포인터 + 인덱스 )`
            1. 메모리 구조
            
            |  | 주기억장치 |  |
            | --- | --- | --- |
            | &a[0] == a | 1 | a[0] == *a |
            | &a[1] == (a+1) | 2 | a[1] == *(a+1) |
            | &a[2] == (a+2) | 3 | a[2] == *(a+2) |
            |  |  |  |
            | p | a 의 주소 |  |
            - 예시
                
                ```c
                #include`<stdio.h>
                int main(){ 
                	int a[3] = {1, 2};
                	int *p = a;
                	printf("%d %d %d\n", a[0], a[1], a[2]);
                	printf("%d %d %d\n", *a, *(a+1), *(a+2));
                	printf("%d %d %d\n", *p, *(p+1), *(p+2));
                	printf("%d %d %d\n", p[0], p[1], p[2]);
                	return 0;
                }
                /** 출력
                1 2 0
                1 2 0
                1 2 0
                1 2 0
                **/
                
                ```
                
                1. 3자리의 정수 배열 a 선언 후 각각 인덱스에 1,2,0 값으로 초기화
                    
                    
                    | 인덱스 | 0 | 1 | 2 |
                    | --- | --- | --- | --- |
                    | a  | 1 | 2 | 0 |
                2. 정수형 포인터 p에 a의 주솟값 대입
                    1. p값과 a의 값이 같으므로 동일한 결과 도출 가능
                3. a의 0번째 인덱스값, a의 1번째 인덱스값, a의 2번째 인덱스값 출력
                4. a = &a[0] 이므로 *a == *(&a)로 *a == a
                    1. a[0], a[1], a[2] 값 출력
                5. p라는 포인터 변수에 저장된 주솟값이 a의 주솟값과 같으므로 
                    1. *p, *p+1, *p+2 는 *a, *a+1, *a+2와 동일하게 출력
                6. p라는 포인터 변수에 저장된 주솟값이 a의 주솟값과 같으므로
                    1. p[0], p[1], p[2]는 a[0], a[1], a[2]와 동일하게 출력
    2. 2차원 배열과 1차원 포인터
        1. 2차원 배열에서 배열명만 단독으로 사용할 경우 2차원 포인터와 동일
        2. 2차원 배열일 때: 베열명[ 인덱스 ] / *(배열명+인덱스) ⇒ 1차원 포인터와 동일
        3. `*`, `[]` 를 이용해야 1차원 포인터의 값을 가리킬 수 있ㅇ
            1. 메모리 구조
            `a[3][2] = {{1,2},{3,4},{5,6}};`
            `int *p = a[1];`
            
            |  | 0 | 1 |
            | --- | --- | --- |
            | a[0] | 1 | 2 |
            | a[1] | 3 | 4 |
            | a[2] | 5 | 6 |
            
            |  | 주기억장치 |  |
            | --- | --- | --- |
            | &a[0][0] ==a[0] | 1 | a[0][0] |
            | &a[0][1] | 2 | a[0][1] |
            | &a[1][0] ==a[1] | 3 | a[1][0] |
            | &a[1][1] | 4 | a[1][1] |
            | &a[2][0] ==a[2] | 5 | a[2][0] |
            | &a[2][1] | 6 | a[2][1] |
            |  |  |  |
            | p | a[1][0] 주소 |  |
        - 예시
            
            ```c
            #include <stdio.h>
            int main(){
            	int a[3][2] = {{1,2}, {3,4}, {5,6}};
            	int *p = a[1];
            	printf("%d %d %d\n", *a[0], *a[1], *a[2]);
            	printf("%d %d %d\n", **a, **(a+1), **(a+2));
            	printf("%d %d\n", *p, *(p+1));
            	printf("%d %d\n", p[0], p[1]);
            }
            /** 출력
            1 3 5
            1 3 5
            3 4
            3 4
            **/
            ```
            
            1. 2차원 정수 배열 a를 선언하고 {{1,2}, {3,4}, {5,6}};로 초기화
            2. a[1]은 &a[1][0] 과 같음
                1. `a[1] == &a[1][0] ⇒ 배열+i == &배열[i] 에서 배열 자리에 a[1]을 i 자리에 0을 넣음`
                2. a[1][0] 주소를 p라는 포인터 변수에 저장
                3. int *를 빼면 p = a[1] 이므로 p대신에 a[1]을 넣어도 결과가 동일
            3. `printf("%d %d %d\n", *a[0], *a[1], *a[2]);`
                1. a[0]은 a[0][0]과 동일 `배열+인덱스 = &배열[인덱스]`
                *a[0] == *(&a[0][0]) 
                *(&)는 상쇄
                *a[0] = a[0][0] == 1
                2. a[1] == a[1][0]
                *a[1] == *(&a[1][0]) == a[1][0] == 3
                3. a[2] == a[2][0]
                *a[2] == *(&a[2][0]) == a[2][0] == 5
            4. `printf("%d %d %d\n", **a, **(a+1), **(a+2));`
                1. a == &a[0] = a[0][0]
                **a == **(&a[0])
                *(&)는 상쇄
                **a == *a[0] == a[0][0] == 1
                2. a+1 = &(a[1])
                **(a+1) == **(&a[1])
                *(&)는 상쇄
                **(a+1) == *a[1] == a[1][0] == 3
                3. a+2 = &a(a[2])
                **(a+2) = **(&a[2])
                *(&)는 상쇄
                **(a+2) == **a[2] == a[2][0] == 5
            5. `printf("%d %d\n", *p, *(p+1));`
                1. p == &a[1]
                *p == *(&a[1]) == a[1] ==3
                2. *(p+1) == *(a[1]+1) == a[1][1]
            6. `printf("%d %d\n", p[0], p[1]);`
                1. p == a[1]
                p[0] == a[1][0] == 3
                2. p == a[1]
                p[1] == a[1][1] ==4
    3. 2차원 배열과 포인터 배열
        1. 메모리 구조
        `int a[3][2] = {{1,2}, {3,4}, {5,6}};` 
        `int *p[3] = {a[2], a[0], a[1]};`
        
        |  | 주기억장치 |  |
        | --- | --- | --- |
        | p[1] | 1 | a[0][0] |
        |  | 2 | a[0][1] |
        | p[2] | 3 | a[1][0] |
        |  | 4 | a[1][1] |
        | p[0] | 5 | a[2][0] |
        |  | 6 | a[2][1] |
        |  |  |  |
        | p[0] | a[2] |  |
        | p[1] | a[0] |  |
        | p[2] | a[1] |  |
        - 예시
            
            ```c
            #include <stdio.h>
            int main(){
            	int a[3][2] = {{1,2}, {3,4}, {5,6}};
            	int *p[3] = {a[2], a[0], a[1]};
            	printf("%d %d %d\n", a[0][0], a[1][0], a[2][0]);
            	printf("%d %d %d\n", *a[0], *a[1], *a[2]);
            	printf("%d %d %d\n", p[1][0], p[2][0], p[0][0]);
            	printf("%d %d %d\n", *p[1], *p[2], *p[0]);
            	return 0;
            }
            /** 출력
            1 3 5
            1 3 5
            1 3 5
            1 3 5
            **/
            ```
            
    4. 2차원 배열과 2차원 포인터
4. 구조체와 포인터
    1. 구조체 변수와 구조체 포인터
    2. 1차원 구조체 배열과 1차원 구조체 포인터
5. 함수 포인터
6. 사용자 정의 함수 포인터
7.
